(function(t,i,e){var s=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(i){t.setTimeout(i,1e3/60)};var n=function(){var s={};var n=i.createElement("div").style;var o=function(){var t=["t","webkitT","MozT","msT","OT"],i,e=0,s=t.length;for(;e<s;e++){i=t[e]+"ransform";if(i in n)return t[e].substr(0,t[e].length-1)}return false}();function r(t){if(o===false)return false;if(o==="")return t;return o+t.charAt(0).toUpperCase()+t.substr(1)}s.getTime=Date.now||function h(){return(new Date).getTime()};s.extend=function(t,i){for(var e in i){t[e]=i[e]}};s.addEvent=function(t,i,e,s){t.addEventListener(i,e,!!s)};s.removeEvent=function(t,i,e,s){t.removeEventListener(i,e,!!s)};s.prefixPointerEvent=function(i){return t.MSPointerEvent?"MSPointer"+i.charAt(9).toUpperCase()+i.substr(10):i};s.momentum=function(t,i,s,n,o,r){var a=t-i,h=e.abs(a)/s,l,c;r=r===undefined?6e-4:r;l=t+h*h/(2*r)*(a<0?-1:1);c=h/r;if(l<n){l=o?n-o/2.5*(h/8):n;a=e.abs(l-t);c=a/h}else if(l>0){l=o?o/2.5*(h/8):0;a=e.abs(t)+l;c=a/h}return{destination:e.round(l),duration:c}};var a=r("transform");s.extend(s,{hasTransform:a!==false,hasPerspective:r("perspective")in n,hasTouch:"ontouchstart"in t,hasPointer:t.PointerEvent||t.MSPointerEvent,hasTransition:r("transition")in n});s.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion);s.extend(s.style={},{transform:a,transitionTimingFunction:r("transitionTimingFunction"),transitionDuration:r("transitionDuration"),transitionDelay:r("transitionDelay"),transformOrigin:r("transformOrigin")});s.hasClass=function(t,i){var e=new RegExp("(^|\\s)"+i+"(\\s|$)");return e.test(t.className)};s.addClass=function(t,i){if(s.hasClass(t,i)){return}var e=t.className.split(" ");e.push(i);t.className=e.join(" ")};s.removeClass=function(t,i){if(!s.hasClass(t,i)){return}var e=new RegExp("(^|\\s)"+i+"(\\s|$)","g");t.className=t.className.replace(e," ")};s.offset=function(t){var i=-t.offsetLeft,e=-t.offsetTop;while(t=t.offsetParent){i-=t.offsetLeft;e-=t.offsetTop}return{left:i,top:e}};s.preventDefaultException=function(t,i){for(var e in i){if(i[e].test(t[e])){return true}}return false};s.extend(s.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});s.extend(s.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return e.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var i=4;return(t=t-1)*t*((i+1)*t+i)+1}},bounce:{style:"",fn:function(t){if((t/=1)<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}}},elastic:{style:"",fn:function(t){var i=.22,s=.4;if(t===0){return 0}if(t==1){return 1}return s*e.pow(2,-10*t)*e.sin((t-i/4)*(2*e.PI)/i)+1}}});s.tap=function(t,e){var s=i.createEvent("Event");s.initEvent(e,true,true);s.pageX=t.pageX;s.pageY=t.pageY;t.target.dispatchEvent(s)};s.click=function(t){var e=t.target,s;if(!/(SELECT|INPUT|TEXTAREA)/i.test(e.tagName)){s=i.createEvent("MouseEvents");s.initMouseEvent("click",true,true,t.view,1,e.screenX,e.screenY,e.clientX,e.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null);s._constructed=true;e.dispatchEvent(s)}};return s}();function o(t,e){this.wrapper=typeof t=="string"?i.querySelector(t):t;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:"",preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true};for(var s in e){this.options[s]=e[s]}this.translateZ=this.options.HWCompositing&&n.hasPerspective?" translateZ(0)":"";this.options.useTransition=n.hasTransition&&this.options.useTransition;this.options.useTransform=n.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?n.ease[this.options.bounceEasing]||n.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap="tap"}this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}o.prototype={version:"5.1.3",_init:function(){this._initEvents()},destroy:function(){this._initEvents(true);this._execEvent("destroy")},_transitionEnd:function(t){if(t.target!=this.scroller||!this.isInTransition){return}this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent("scrollEnd")}},_start:function(t){if(n.eventType[t.type]!=1){if(t.button!==0){return}}if(!this.enabled||this.initiated&&n.eventType[t.type]!==this.initiated){return}if(this.options.preventDefault&&!n.isBadAndroid&&!n.preventDefaultException(t.target,this.options.preventDefaultException)){t.preventDefault()}var i=t.touches?t.touches[0]:t,s;this.initiated=n.eventType[t.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=n.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;s=this.getComputedPosition();this._translate(e.round(s.x),e.round(s.y));this._execEvent("scrollEnd")}else if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent("scrollEnd")}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=i.pageX;this.pointY=i.pageY;this._execEvent("beforeScrollStart")},_move:function(t){if(!this.enabled||n.eventType[t.type]!==this.initiated){return}if(this.options.preventDefault){t.preventDefault()}var i=t.touches?t.touches[0]:t,s=i.pageX-this.pointX,o=i.pageY-this.pointY,r=n.getTime(),a,h,l,c;this.pointX=i.pageX;this.pointY=i.pageY;this.distX+=s;this.distY+=o;l=e.abs(this.distX);c=e.abs(this.distY);if(r-this.endTime>300&&(l<10&&c<10)){return}if(!this.directionLocked&&!this.options.freeScroll){if(l>c+this.options.directionLockThreshold){this.directionLocked="h"}else if(c>=l+this.options.directionLockThreshold){this.directionLocked="v"}else{this.directionLocked="n"}}if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical"){t.preventDefault()}else if(this.options.eventPassthrough=="horizontal"){this.initiated=false;return}o=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal"){t.preventDefault()}else if(this.options.eventPassthrough=="vertical"){this.initiated=false;return}s=0}s=this.hasHorizontalScroll?s:0;o=this.hasVerticalScroll?o:0;a=this.x+s;h=this.y+o;if(a>0||a<this.maxScrollX){a=this.options.bounce?this.x+s/3:a>0?0:this.maxScrollX}if(h>0||h<this.maxScrollY){h=this.options.bounce?this.y+o/3:h>0?0:this.maxScrollY}this.directionX=s>0?-1:s<0?1:0;this.directionY=o>0?-1:o<0?1:0;if(!this.moved){this._execEvent("scrollStart")}this.moved=true;this._translate(a,h);if(r-this.startTime>300){this.startTime=r;this.startX=this.x;this.startY=this.y}},_end:function(t){if(!this.enabled||n.eventType[t.type]!==this.initiated){return}if(this.options.preventDefault&&!n.preventDefaultException(t.target,this.options.preventDefaultException)){t.preventDefault()}var i=t.changedTouches?t.changedTouches[0]:t,s,o,r=n.getTime()-this.startTime,a=e.round(this.x),h=e.round(this.y),l=e.abs(a-this.startX),c=e.abs(h-this.startY),u=0,p="";this.isInTransition=0;this.initiated=0;this.endTime=n.getTime();if(this.resetPosition(this.options.bounceTime)){return}this.scrollTo(a,h);if(!this.moved){if(this.options.tap){n.tap(t,this.options.tap)}if(this.options.click){n.click(t)}this._execEvent("scrollCancel");return}if(this._events.flick&&r<200&&l<100&&c<100){this._execEvent("flick");return}if(this.options.momentum&&r<300){s=this.hasHorizontalScroll?n.momentum(this.x,this.startX,r,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:a,duration:0};o=this.hasVerticalScroll?n.momentum(this.y,this.startY,r,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:h,duration:0};a=s.destination;h=o.destination;u=e.max(s.duration,o.duration);this.isInTransition=1}if(a!=this.x||h!=this.y){if(a>0||a<this.maxScrollX||h>0||h<this.maxScrollY){p=n.ease.quadratic}this.scrollTo(a,h,u,p);return}this._execEvent("scrollEnd")},_resize:function(){var t=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var i=this.x,e=this.y;t=t||0;if(!this.hasHorizontalScroll||this.x>0){i=0}else if(this.x<this.maxScrollX){i=this.maxScrollX}if(!this.hasVerticalScroll||this.y>0){e=0}else if(this.y<this.maxScrollY){e=this.maxScrollY}if(i==this.x&&e==this.y){return false}this.scrollTo(i,e,t,this.options.bounceEasing);return true},disable:function(){this.enabled=false},enable:function(){this.enabled=true},refresh:function(){var t=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight}this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=n.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(t,i){if(!this._events[t]){this._events[t]=[]}this._events[t].push(i)},off:function(t,i){if(!this._events[t]){return}var e=this._events[t].indexOf(i);if(e>-1){this._events[t].splice(e,1)}},_execEvent:function(t){if(!this._events[t]){return}var i=0,e=this._events[t].length;if(!e){return}for(;i<e;i++){this._events[t][i].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,i,e,s){t=this.x+t;i=this.y+i;e=e||0;this.scrollTo(t,i,e,s)},scrollTo:function(t,i,e,s){s=s||n.ease.circular;this.isInTransition=this.options.useTransition&&e>0;if(!e||this.options.useTransition&&s.style){this._transitionTimingFunction(s.style);this._transitionTime(e);this._translate(t,i)}else{this._animate(t,i,e,s.fn)}},scrollToElement:function(t,i,s,o,r){t=t.nodeType?t:this.scroller.querySelector(t);if(!t){return}var a=n.offset(t);a.left-=this.wrapperOffset.left;a.top-=this.wrapperOffset.top;if(s===true){s=e.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)}if(o===true){o=e.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)}a.left-=s||0;a.top-=o||0;a.left=a.left>0?0:a.left<this.maxScrollX?this.maxScrollX:a.left;a.top=a.top>0?0:a.top<this.maxScrollY?this.maxScrollY:a.top;i=i===undefined||i===null||i==="auto"?e.max(e.abs(this.x-a.left),e.abs(this.y-a.top)):i;this.scrollTo(a.left,a.top,i,r)},_transitionTime:function(t){t=t||0;this.scrollerStyle[n.style.transitionDuration]=t+"ms";if(!t&&n.isBadAndroid){this.scrollerStyle[n.style.transitionDuration]="0.001s"}},_transitionTimingFunction:function(t){this.scrollerStyle[n.style.transitionTimingFunction]=t},_translate:function(t,i){if(this.options.useTransform){this.scrollerStyle[n.style.transform]="translate("+t+"px,"+i+"px)"+this.translateZ}else{t=e.round(t);i=e.round(i);this.scrollerStyle.left=t+"px";this.scrollerStyle.top=i+"px"}this.x=t;this.y=i},_initEvents:function(i){var e=i?n.removeEvent:n.addEvent,s=this.options.bindToWrapper?this.wrapper:t;e(t,"orientationchange",this);e(t,"resize",this);if(this.options.click){e(this.wrapper,"click",this,true)}if(!this.options.disableMouse){e(this.wrapper,"mousedown",this);e(s,"mousemove",this);e(s,"mousecancel",this);e(s,"mouseup",this)}if(n.hasPointer&&!this.options.disablePointer){e(this.wrapper,n.prefixPointerEvent("pointerdown"),this);e(s,n.prefixPointerEvent("pointermove"),this);e(s,n.prefixPointerEvent("pointercancel"),this);e(s,n.prefixPointerEvent("pointerup"),this)}if(n.hasTouch&&!this.options.disableTouch){e(this.wrapper,"touchstart",this);e(s,"touchmove",this);e(s,"touchcancel",this);e(s,"touchend",this)}e(this.scroller,"transitionend",this);e(this.scroller,"webkitTransitionEnd",this);e(this.scroller,"oTransitionEnd",this);e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var i=t.getComputedStyle(this.scroller,null),e,s;if(this.options.useTransform){i=i[n.style.transform].split(")")[0].split(", ");e=+(i[12]||i[4]);s=+(i[13]||i[5])}else{e=+i.left.replace(/[^-\d.]/g,"");s=+i.top.replace(/[^-\d.]/g,"")}return{x:e,y:s}},_animate:function(t,i,e,o){var r=this,a=this.x,h=this.y,l=n.getTime(),c=l+e;function u(){var p=n.getTime(),f,d,m;if(p>=c){r.isAnimating=false;r._translate(t,i);if(!r.resetPosition(r.options.bounceTime)){r._execEvent("scrollEnd")}return}p=(p-l)/e;m=o(p);f=(t-a)*m+a;d=(i-h)*m+h;r._translate(f,d);if(r.isAnimating){s(u)}}this.isAnimating=true;u()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":if(!t._constructed){t.preventDefault();t.stopPropagation()}break}}};o.utils=n;if(typeof module!="undefined"&&module.exports){module.exports=o}else{t.IScroll=o}})(window,document,Math);